<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π üíó</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        min-height: 100%;
        overflow-x: hidden;
      }

      body {
        font-family:
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        min-height: 100%;
        min-height: -webkit-fill-available;
        min-height: 100dvh;
        display: block;
        background: radial-gradient(
          circle at top,
          #fff7fb 0,
          #f7d5ea 55%,
          #f1bddc 100%
        );
        background-attachment: fixed;
        color: #3b2434;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
      }

      .overlay {
        position: fixed;
        inset: 0;
        background: radial-gradient(
          circle at top,
          rgba(255, 255, 255, 0.5),
          transparent 60%
        );
        pointer-events: none;
      }

      .start-screen {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1.4rem;
        text-align: center;
        z-index: 2;
        transition:
          opacity 0.65s ease,
          transform 0.65s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .start-screen--hide {
        opacity: 0;
        transform: scale(0.9) translateY(-16px);
        pointer-events: none;
      }

      .start-screen--opening {
        transform: translateY(16px);
      }

      .envelope {
        position: relative;
        width: 220px;
        height: 150px;
        filter: drop-shadow(0 22px 45px rgba(136, 76, 104, 0.45));
        animation: envelopeIdle 2.3s ease-in-out infinite;
        transform-origin: center;
      }

      .envelope-svg {
        width: 100%;
        height: 100%;
        display: block;
      }

      .envelope-paper {
        position: absolute;
        left: 50%;
        bottom: 22px;
        width: 155px;
        height: 105px;
        transform: translateX(-50%) translateY(24px) scale(0.9);
        transform-origin: 50% 100%;
        border-radius: 18px;
        background: linear-gradient(180deg, #fff7fd, #f9d2eb);
        box-shadow:
          0 12px 26px rgba(141, 103, 76, 0.38),
          0 0 0 1px rgba(255, 255, 255, 0.95);
        opacity: 0;
        z-index: 0;
      }

      .start-screen.start-screen--opening .envelope {
        animation: envelopeFadeOut 0.9s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      .start-screen.start-screen--opening .envelope-paper {
        animation: valentineFly 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      #envelopeHeart {
        transform-origin: 50% 50%;
        animation: heartPulse 1.6s ease-in-out infinite;
      }

      .start-text {
        font-size: 1rem;
        color: rgba(104, 60, 88, 0.96);
        text-shadow: 0 0 18px rgba(255, 255, 255, 0.6);
      }

      .start-text span {
        color: #f08ab5;
        font-weight: 600;
      }

      .container {
        position: relative;
        max-width: 900px;
        width: 100%;
        margin: 0.5rem auto;
        padding: 1.5rem 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.75rem;
        border-radius: 24px;
        background: rgba(255, 250, 253, 0.45);
        box-shadow:
          0 24px 60px rgba(188, 121, 157, 0.15),
          0 0 0 1px rgba(152, 92, 125, 0.05);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        text-align: center;
        z-index: 1;
        opacity: 0;
        transform: translateY(80px) scale(0.9);
        pointer-events: none;
        transition:
          opacity 0.8s ease,
          transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .container.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      .container.visible .tag,
      .container.visible h1,
      .container.visible .subtitle,
      .container.visible .timer-card,
      .container.visible .signature,
      .container.visible .gallery-section,
      .container.visible .heart-main {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease forwards;
      }

      .container.visible .tag {
        animation-delay: 0.1s;
      }

      .container.visible h1 {
        animation-delay: 0.2s;
      }

      .container.visible .subtitle {
        animation-delay: 0.35s;
      }

      .container.visible .timer-card {
        animation-delay: 0.5s;
      }

      .container.visible .signature {
        animation-delay: 0.7s;
      }

      .container.visible .gallery-section {
        animation-delay: 0.85s;
      }

      .container.visible .heart-main {
        animation-delay: 0.3s;
      }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .tag {
        font-size: 0.85rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(104, 60, 88, 0.98);
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .tag-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #f28bb5;
        box-shadow: 0 0 12px rgba(244, 162, 196, 0.95);
      }

      h1 {
        font-size: clamp(2.1rem, 5vw, 2.8rem);
        line-height: 1.1;
        font-weight: 700;
        letter-spacing: 0.03em;
        color: #4b273d;
      }

      h1 span.highlight {
        background: linear-gradient(120deg, #f29ac4, #f7c2dd, #fbe0f0);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
      }

      .subtitle {
        max-width: 620px;
        color: rgba(92, 58, 84, 0.96);
        font-size: 1rem;
        line-height: 1.7;
      }

      .subtitle strong {
        color: #f08ab5;
        font-weight: 600;
      }

      .timer-card {
        margin-top: 0.5rem;
        padding: 1.4rem 1.3rem;
        border-radius: 20px;
        background: linear-gradient(
          135deg,
          rgba(255, 240, 250, 0.98),
          rgba(255, 220, 240, 0.95)
        );
        box-shadow:
          0 12px 32px rgba(193, 132, 166, 0.3),
          0 0 0 1px rgba(255, 180, 210, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.8);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.9rem;
        position: relative;
        overflow: hidden;
      }

      .timer-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 200, 230, 0.3) 0%,
          transparent 60%
        );
        animation: timerGlow 4s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes timerGlow {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.5;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .timer-label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        color: rgba(132, 76, 111, 0.9);
        position: relative;
        z-index: 1;
      }

      .timer-since {
        font-size: 0.9rem;
        color: rgba(92, 55, 84, 0.96);
        position: relative;
        z-index: 1;
      }

      .timer-since span {
        color: #d75a93;
        font-weight: 700;
        text-shadow: 0 0 8px rgba(215, 90, 147, 0.5);
      }

      .timer-grid {
        margin-top: 0.4rem;
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.75rem;
        width: 100%;
        max-width: 700px;
        position: relative;
        z-index: 1;
      }

      .timer-item {
        position: relative;
        border-radius: 16px;
        padding: 0.8rem 0.5rem 0.7rem;
        background: linear-gradient(
          180deg,
          #fff 0%,
          rgba(255, 245, 250, 0.9) 100%
        );
        box-shadow:
          0 4px 12px rgba(212, 90, 147, 0.25),
          0 0 0 1px rgba(255, 180, 210, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .timer-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 50%;
        background: linear-gradient(
          180deg,
          rgba(255, 200, 220, 0.4) 0%,
          transparent 100%
        );
        border-radius: 16px 16px 0 0;
        pointer-events: none;
      }

      .timer-item:hover {
        transform: translateY(-3px);
        box-shadow:
          0 8px 20px rgba(212, 90, 147, 0.35),
          0 0 0 1px rgba(255, 180, 210, 0.7),
          inset 0 1px 0 rgba(255, 255, 255, 0.9);
      }

      .timer-value {
        font-size: 1.55rem;
        font-weight: 800;
        letter-spacing: 0.04em;
        background: linear-gradient(
          135deg,
          #d75a93 0%,
          #f28bb5 50%,
          #d75a93 100%
        );
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: none;
        filter: drop-shadow(0 2px 4px rgba(212, 90, 147, 0.3));
        position: relative;
        z-index: 1;
      }

      .timer-unit {
        margin-top: 0.32rem;
        font-size: 0.72rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: rgba(141, 96, 122, 0.95);
        font-weight: 600;
      }

      .note {
        margin-top: 0.7rem;
        font-size: 0.85rem;
        color: rgba(110, 70, 96, 0.95);
        position: relative;
        z-index: 1;
        font-style: italic;
      }

      /* Pulse animation for seconds */
      .timer-item.seconds-pulse {
        animation: secondsPulse 1s ease-in-out;
      }

      @keyframes secondsPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.08);
        }
      }

      .signature {
        margin-top: 0.8rem;
        font-size: 0.95rem;
        color: rgba(106, 64, 96, 0.96);
      }

      .signature span {
        color: #f08ab5;
        font-weight: 600;
      }

      .heart-main {
        position: absolute;
        right: 3%;
        top: 5%;
        width: 88px;
        height: 88px;
        filter: drop-shadow(0 18px 40px rgba(193, 132, 166, 0.6));
        animation: heartbeat 1.7s ease-in-out infinite;
        z-index: 1;
        pointer-events: none;
      }

      .heart-main svg {
        width: 100%;
        height: 100%;
        display: block;
      }

      .container > *:not(.heart-main) {
        position: relative;
        z-index: 2;
      }

      .floating-hearts {
        position: fixed;
        inset: 0;
        pointer-events: none;
        overflow: hidden;
        z-index: 0;
      }

      .floating-heart {
        position: absolute;
        font-size: 1.8rem;
        color: rgba(232, 130, 168, 0.96);
        text-shadow:
          0 0 14px rgba(250, 194, 220, 0.9),
          0 0 24px rgba(210, 128, 168, 0.85);
        animation: floatUp linear infinite;
        pointer-events: auto;
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
      }

      @media (max-width: 480px) {
        .floating-heart {
          font-size: 2.2rem;
        }
      }

      @keyframes heartbeat {
        0%,
        20%,
        40%,
        60%,
        80%,
        100% {
          transform: scale(1);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: scale(1.06);
        }
      }

      @keyframes heartPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.08);
        }
      }

      @keyframes floatUp {
        0% {
          transform: translateY(110vh) translateX(0) scale(0.8);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-10vh) translateX(25px) scale(1.15);
          opacity: 0;
        }
      }

      @keyframes envelopeFadeOut {
        0% {
          transform: translateY(0) scale(0.96);
          opacity: 1;
        }
        35% {
          transform: translateY(0) scale(0.96);
          opacity: 1;
        }
        100% {
          transform: translateY(10px) scale(0.9);
          opacity: 0;
        }
      }

      @keyframes valentineFly {
        0% {
          transform: translateY(26px) scale(0.92);
          opacity: 0;
        }
        15% {
          opacity: 1;
        }
        55% {
          transform: translateY(-80px) scale(1.08);
          opacity: 1;
        }
        100% {
          transform: translateY(-150px) scale(1.25);
          opacity: 0;
        }
      }

      @keyframes envelopeIdle {
        0%,
        100% {
          transform: translateY(0) scale(0.96);
        }
        50% {
          transform: translateY(-6px) scale(0.99);
        }
      }

      @media (max-width: 780px) {
        body {
          padding: 1rem;
          padding-bottom: env(safe-area-inset-bottom, 1rem);
        }

        .container {
          padding: 1.5rem 1rem;
          max-width: 100%;
          margin: 0.5rem;
        }

        .timer-grid {
          grid-template-columns: repeat(5, minmax(0, 1fr));
          gap: 0.5rem;
        }

        .timer-card {
          padding: 1rem;
        }

        .timer-value {
          font-size: 1rem;
        }

        .timer-item {
          padding: 0.6rem 0.3rem 0.5rem;
        }

        .timer-unit {
          font-size: 0.55rem;
        }

        .heart-main {
          width: 60px;
          height: 60px;
          right: 2%;
          top: 3%;
        }

        .envelope {
          width: 160px;
          height: 110px;
        }

        h1 {
          font-size: clamp(1.6rem, 5vw, 2.2rem);
        }

        .subtitle {
          font-size: 0.95rem;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 0.5rem;
          padding-bottom: env(safe-area-inset-bottom, 0.5rem);
        }

        .container {
          padding: 1.2rem 0.8rem;
          gap: 1rem;
          border-radius: 16px;
          margin: 0.25rem;
        }

        .timer-card {
          padding: 0.8rem 0.6rem;
          gap: 0.6rem;
        }

        .timer-since {
          font-size: 0.75rem;
        }

        .timer-label {
          font-size: 0.7rem;
        }

        .timer-grid {
          grid-template-columns: repeat(5, 1fr);
          gap: 0.35rem;
        }

        .timer-item {
          padding: 0.4rem 0.2rem 0.35rem;
          border-radius: 10px;
        }

        .timer-value {
          font-size: 0.9rem;
          font-weight: 600;
        }

        .timer-unit {
          font-size: 0.45rem;
          margin-top: 0.2rem;
        }

        .note {
          font-size: 0.7rem;
        }

        .heart-main {
          width: 50px;
          height: 50px;
          right: 1%;
          top: 2%;
        }

        .envelope {
          width: 140px;
          height: 95px;
        }

        h1 {
          font-size: clamp(1.4rem, 6vw, 1.8rem);
          line-height: 1.2;
        }

        .subtitle {
          font-size: 0.85rem;
          line-height: 1.5;
        }

        .tag {
          font-size: 0.7rem;
        }

        .start-text {
          font-size: 0.85rem;
          padding: 0 0.8rem;
        }

        .gallery-grid {
          gap: 0.3rem;
        }

        .gallery-title {
          font-size: 0.7rem;
        }
      }

      @media (max-width: 390px) {
        .container {
          padding: 1rem 0.6rem;
        }

        .timer-grid {
          grid-template-columns: repeat(5, 1fr);
          gap: 0.25rem;
        }

        .timer-value {
          font-size: 0.8rem;
        }

        .timer-unit {
          font-size: 0.4rem;
        }

        .timer-item {
          padding: 0.35rem 0.15rem 0.3rem;
        }

        h1 {
          font-size: 1.3rem;
        }

        .subtitle {
          font-size: 0.8rem;
        }
      }

      /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è iPhone */
      @supports (-webkit-touch-callout: none) {
        body {
          min-height: 100vh;
          min-height: -webkit-fill-available;
          height: 100dvh;
          overflow-x: hidden;
          -webkit-overflow-scrolling: touch;
          padding-top: env(safe-area-inset-top);
          padding-bottom: env(safe-area-inset-bottom);
          padding-left: env(safe-area-inset-left);
          padding-right: env(safe-area-inset-right);
        }

        .container {
          -webkit-transform: translateZ(0);
          transform: translateZ(0);
          -webkit-backdrop-filter: blur(10px);
          backdrop-filter: blur(10px);
        }

        .envelope {
          -webkit-tap-highlight-color: transparent;
          cursor: pointer;
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          user-select: none;
        }
      }

      /* Safari-specific animations fix */
      @keyframes -webkit-heartbeat {
        0%,
        20%,
        40%,
        60%,
        80%,
        100% {
          -webkit-transform: scale(1);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          -webkit-transform: scale(1.06);
        }
      }

      @keyframes -webkit-floatUp {
        0% {
          -webkit-transform: translateY(110vh) translateX(0) scale(0.8);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          -webkit-transform: translateY(-10vh) translateX(25px) scale(1.15);
          opacity: 0;
        }
      }

      /* Gallery styles */
      .gallery-section {
        margin-top: 1.2rem;
        width: 100%;
      }

      .gallery-title {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        color: rgba(132, 76, 111, 0.9);
        margin-bottom: 1rem;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.5rem;
        width: 100%;
      }

      .gallery-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 12px;
        overflow: hidden;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(136, 76, 104, 0.25);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .gallery-item:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(136, 76, 104, 0.35);
      }

      .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .gallery-item::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 50%
        );
        pointer-events: none;
      }

      /* Lightbox */
      .lightbox {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.3s ease,
          visibility 0.3s ease;
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
      }

      .lightbox.active {
        opacity: 1;
        visibility: visible;
      }

      .lightbox-content {
        max-width: 90vw;
        max-height: 85vh;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        transform: scale(0.9);
        transition: transform 0.3s ease;
      }

      .lightbox.active .lightbox-content {
        transform: scale(1);
      }

      .lightbox-content img {
        width: auto;
        height: auto;
        max-width: 100%;
        max-height: 85vh;
        object-fit: contain;
        display: block;
      }

      .lightbox-close {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s ease;
        -webkit-tap-highlight-color: transparent;
      }

      .lightbox-close:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .lightbox-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s ease;
        -webkit-tap-highlight-color: transparent;
      }

      .lightbox-nav:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .lightbox-prev {
        left: 20px;
      }

      .lightbox-next {
        right: 20px;
      }

      @media (max-width: 480px) {
        .gallery-grid {
          grid-template-columns: repeat(3, 1fr);
          gap: 0.4rem;
        }

        .gallery-item {
          border-radius: 8px;
        }

        .gallery-title {
          font-size: 0.75rem;
        }

        .lightbox-nav {
          width: 40px;
          height: 40px;
          font-size: 20px;
        }

        .lightbox-close {
          top: 10px;
          right: 10px;
          width: 36px;
          height: 36px;
        }
      }

      /* Interactive kiss button */
      .kiss-btn {
        position: relative;
        margin-top: 0.5rem;
        padding: 0.6rem 1.2rem;
        font-size: 0.8rem;
        font-weight: 600;
        color: white;
        background: linear-gradient(135deg, #f28bb5, #d75a93);
        border: none;
        border-radius: 20px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(212, 90, 147, 0.4);
        transition: all 0.3s ease;
        overflow: hidden;
      }

      .kiss-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(212, 90, 147, 0.6);
      }

      .kiss-btn:active {
        transform: scale(0.95);
      }

      .kiss-btn::before {
        content: "üíã ";
      }

      @media (max-width: 480px) {
        .kiss-btn {
          padding: 0.5rem 1rem;
          font-size: 0.75rem;
          border-radius: 18px;
        }
      }

      .kiss-heart {
        position: fixed;
        font-size: 2.5rem;
        pointer-events: none;
        z-index: 1000;
        animation: kissFloat 1.2s ease-out forwards;
      }

      .kiss-heart.type1 {
        animation: kissFloat1 1.2s ease-out forwards;
      }

      .kiss-heart.type2 {
        animation: kissFloat2 1s ease-out forwards;
      }

      .kiss-heart.type3 {
        animation: kissFloat3 1.5s ease-in-out forwards;
      }

      @keyframes kissFloat {
        0% {
          opacity: 1;
          transform: translateY(0) scale(0.5) rotate(0deg);
        }
        50% {
          opacity: 1;
          transform: translateY(-60px) scale(1.2) rotate(15deg);
        }
        100% {
          opacity: 0;
          transform: translateY(-120px) scale(1.5) rotate(-10deg);
        }
      }

      @keyframes kissFloat1 {
        0% {
          opacity: 1;
          transform: translateY(0) scale(0.3) rotate(-20deg);
        }
        30% {
          opacity: 1;
          transform: translateY(-40px) scale(1.3) rotate(20deg);
        }
        100% {
          opacity: 0;
          transform: translateY(-150px) scale(1.8) rotate(0deg);
        }
      }

      @keyframes kissFloat2 {
        0% {
          opacity: 1;
          transform: translateY(0) scale(0.5);
        }
        40% {
          opacity: 1;
          transform: translateY(-50px) scale(1.4);
        }
        100% {
          opacity: 0;
          transform: translateY(-100px) scale(0.8);
        }
      }

      @keyframes kissFloat3 {
        0% {
          opacity: 1;
          transform: translateY(0) scale(0.4) rotate(0deg);
        }
        25% {
          transform: translateY(-30px) scale(1.2) rotate(25deg);
        }
        50% {
          transform: translateY(-60px) scale(1.4) rotate(-25deg);
        }
        75% {
          transform: translateY(-90px) scale(1.2) rotate(15deg);
        }
        100% {
          opacity: 0;
          transform: translateY(-130px) scale(1.6) rotate(0deg);
        }
      }

      /* Clickable floating hearts */
      .interactive-heart {
        cursor: pointer;
        transition: transform 0.2s ease;
      }

      .interactive-heart:hover {
        transform: scale(1.3);
      }

      /* Love message popup */
      .love-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        background: rgba(255, 250, 253, 0.98);
        padding: 1.5rem 2rem;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(188, 121, 157, 0.5);
        z-index: 100;
        text-align: center;
        max-width: 80vw;
        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .love-message.show {
        transform: translate(-50%, -50%) scale(1);
      }

      .love-message-text {
        font-size: 1.1rem;
        color: #4b273d;
        line-height: 1.6;
      }

      .love-message-close {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        border: none;
        background: rgba(136, 76, 104, 0.2);
        border-radius: 50%;
        font-size: 1rem;
        cursor: pointer;
        color: #884c6f;
      }

      /* Touch optimization for gallery */
      .gallery-item {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }

      /* –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ iPhone SE –∏ –ø–æ–¥–æ–±–Ω—ã—Ö */
      @media (max-width: 375px) {
        .container {
          padding: 1.2rem 0.8rem;
        }

        h1 {
          font-size: 1.5rem;
        }

        .timer-value {
          font-size: 1.2rem;
        }

        .heart-main {
          width: 50px;
          height: 50px;
        }
      }
    </style>
  </head>
  <body>
    <div class="overlay"></div>
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="start-screen" id="startScreen">
      <div
        class="envelope"
        id="envelope"
        aria-label="–û—Ç–∫—Ä—ã—Ç—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É"
        role="button"
      >
        <svg
          class="envelope-svg"
          viewBox="0 0 260 180"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <defs>
            <linearGradient id="envBodyGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#f8c1d5" />
              <stop offset="100%" stop-color="#f19abf" />
            </linearGradient>
            <linearGradient id="envFaceGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#fff7fb" />
              <stop offset="100%" stop-color="#f7d1e6" />
            </linearGradient>
            <linearGradient id="envFlapGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#f7b1d1" />
              <stop offset="100%" stop-color="#f072a8" />
            </linearGradient>
            <linearGradient id="envLineGrad" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0%" stop-color="#e080a8" />
              <stop offset="100%" stop-color="#c15384" />
            </linearGradient>
            <radialGradient id="envHighlight" cx="20%" cy="0%" r="60%">
              <stop offset="0%" stop-color="rgba(255,255,255,0.9)" />
              <stop offset="100%" stop-color="rgba(255,255,255,0)" />
            </radialGradient>
            <linearGradient id="envHeartGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#ffe0ec" />
              <stop offset="45%" stop-color="#f28bb5" />
              <stop offset="100%" stop-color="#d75a93" />
            </linearGradient>
          </defs>

          <!-- back -->
          <rect
            x="18"
            y="24"
            width="224"
            height="128"
            rx="24"
            fill="url(#envBodyGrad)"
          />
          <rect
            x="22"
            y="28"
            width="216"
            height="120"
            rx="22"
            fill="url(#envFaceGrad)"
          />

          <!-- flap -->
          <path
            d="M20 70 L130 132 L239 70"
            fill="none"
            stroke="url(#envLineGrad)"
            stroke-width="3"
          />
          <path
            d="M32 70 H228"
            fill="none"
            stroke="url(#envLineGrad)"
            stroke-width="2"
          />

          <!-- highlight -->
          <rect
            x="22"
            y="28"
            width="216"
            height="60"
            rx="22"
            fill="url(#envHighlight)"
          />

          <!-- heart seal -->
          <path
            id="envelopeHeart"
            d="M130 114 L112 96 C106 90 106 80 112 75 C117 71 125 71 130 76 C135 71 143 71 148 75 C154 80 154 90 148 96 Z"
            fill="url(#envHeartGrad)"
          />
        </svg>
        <div class="envelope-paper"></div>
      </div>
      <p class="start-text">
        –¢–µ–±–µ –ø—Ä–∏—à–ª–æ <span>—Å–µ–∫—Ä–µ—Ç–Ω–æ–µ –ø–∏—Å—å–º–æ</span>.<br />
        –ù–∞–∂–º–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –µ–≥–æ.
      </p>
    </div>

    <main class="container">
      <div class="tag">
        <span class="tag-dot"></span>
        –ú–û–Ø –õ–ò–ß–ù–ê–Ø –í–ê–õ–ï–ù–¢–ò–ù–ö–ê
      </div>

      <h1>
        –î–ª—è —Å–∞–º–æ–π <span class="highlight">–≤–∞–∂–Ω–æ–π –¥–µ–≤–æ—á–∫–∏</span><br />
        –Ω–∞ –≤—Å–µ–π –ø–ª–∞–Ω–µ—Ç–µ
      </h1>

      <p class="subtitle">
        –õ—é–±–∏–º–∞—è, —Å–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∫–∞–∂–¥—É—é —É–ª—ã–±–∫—É –∏ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç,
        –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—Ä–æ–∂–∏–≤–∞–µ–º –≤–º–µ—Å—Ç–µ. –†—è–¥–æ–º —Å —Ç–æ–±–æ–π –º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º—è–≥—á–µ, —Ç–µ–ø–ª–µ–µ
        –∏ —Å–≤–µ—Ç–ª–µ–µ. –¢—ã ‚Äî –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –ø–æ–∫–æ–π –∏ —Å–∞–º–æ–µ –ª—é–±–∏–º–æ–µ —á—É–¥–æ, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ
        –º–Ω–æ–π —Å–ª—É—á–∏–ª–æ—Å—å.
      </p>

      <section class="timer-card" aria-label="–°–∫–æ–ª—å–∫–æ –º—ã —É–∂–µ –≤–º–µ—Å—Ç–µ">
        <div class="timer-label">–º—ã –≤–º–µ—Å—Ç–µ</div>
        <div class="timer-since">
          —Å <span>1 –Ω–æ—è–±—Ä—è 2024 –≥–æ–¥–∞</span>, –∞ —ç—Ç–æ —É–∂–µ:
        </div>

        <div class="timer-grid">
          <div class="timer-item">
            <div class="timer-value" id="months">0</div>
            <div class="timer-unit">–º–µ—Å—è—Ü–µ–≤</div>
          </div>
          <div class="timer-item">
            <div class="timer-value" id="days">0</div>
            <div class="timer-unit">–¥–Ω–µ–π</div>
          </div>
          <div class="timer-item">
            <div class="timer-value" id="hours">0</div>
            <div class="timer-unit">—á–∞—Å–æ–≤</div>
          </div>
          <div class="timer-item">
            <div class="timer-value" id="minutes">0</div>
            <div class="timer-unit">–º–∏–Ω—É—Ç</div>
          </div>
          <div class="timer-item">
            <div class="timer-value" id="seconds">0</div>
            <div class="timer-unit">—Å–µ–∫—É–Ω–¥</div>
          </div>
        </div>

        <p class="note">
          –ö–∞–∂–¥—ã–π –º–∏–≥ —Å —Ç–æ–±–æ–π ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è, –≤ –∫–æ—Ç–æ—Ä–æ–π —è —Ö–æ—á—É
          –∂–∏—Ç—å –≤—Å–µ–≥–¥–∞.
        </p>
      </section>

      <p class="signature">
        –° –¥–Ω—ë–º —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞, –º–æ—è <span>–í–∏–∫—É–ª—è</span>. –°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å
        —É –º–µ–Ω—è. –¢–≤–æ–π <span>—Å–æ–ª–Ω—ã—à–∫–æ</span>.
      </p>

      <!-- Interactive kiss button -->
      <button class="kiss-btn" id="kissBtn">–ü–æ—Ü–µ–ª—É–π –º–µ–Ω—è!</button>

      <!-- Gallery Section -->
      <section class="gallery-section">
        <div class="gallery-title">üì∏ –ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã</div>
        <div class="gallery-grid" id="galleryGrid">
          <!-- Gallery items will be added here -->
        </div>
      </section>

      <div class="heart-main" aria-hidden="true">
        <svg viewBox="0 0 120 110" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="heartGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#ffe0ec" />
              <stop offset="45%" stop-color="#f28bb5" />
              <stop offset="100%" stop-color="#d75a93" />
            </linearGradient>
            <radialGradient id="heartHighlight" cx="30%" cy="20%" r="40%">
              <stop offset="0%" stop-color="rgba(255,255,255,0.95)" />
              <stop offset="100%" stop-color="rgba(255,255,255,0)" />
            </radialGradient>
          </defs>
          <path
            d="M60 100 L15 55 C5 45 5 28 16 18 C25 10 40 11 50 20 L60 29 L70 20 C80 11 95 10 104 18 C115 28 115 45 105 55 Z"
            fill="url(#heartGrad)"
          />
          <circle cx="46" cy="27" r="16" fill="url(#heartHighlight)" />
        </svg>
      </div>
    </main>

    <!-- –ó–≤—É–∫ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞ -->
    <audio id="heartbeatSound" src="heartbeat.mp3" preload="auto"></audio>

    <script>
      // –î–∞—Ç–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –≤—ã –≤–º–µ—Å—Ç–µ
      // –ú–æ–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Å –∏ –º–∏–Ω—É—Ç—É
      const startDate = new Date(2024, 10, 1, 0, 0, 0); // –º–µ—Å—è—Ü—ã —Å 0, –ø–æ—ç—Ç–æ–º—É 10 = –Ω–æ—è–±—Ä—å

      const monthsEl = document.getElementById("months");
      const daysEl = document.getElementById("days");
      const hoursEl = document.getElementById("hours");
      const minutesEl = document.getElementById("minutes");
      const secondsEl = document.getElementById("seconds");
      const secondsItem = secondsEl.closest(".timer-item");
      let prevSeconds = -1;

      function updateTimer() {
        const now = new Date();
        let diff = now - startDate;

        if (diff < 0) {
          diff = 0;
        }

        const totalSeconds = Math.floor(diff / 1000);

        // –†–∞—Å—á—ë—Ç –º–µ—Å—è—Ü–µ–≤ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 30.44 –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ)
        const months = Math.floor(totalSeconds / (60 * 60 * 24 * 30.44));
        const days = Math.floor(
          (totalSeconds % (60 * 60 * 24 * 30.44)) / (60 * 60 * 24),
        );
        const hours = Math.floor((totalSeconds % (60 * 60 * 24)) / (60 * 60));
        const minutes = Math.floor((totalSeconds % (60 * 60)) / 60);
        const seconds = totalSeconds % 60;

        monthsEl.textContent = months.toString();
        daysEl.textContent = days.toString();
        hoursEl.textContent = hours.toString().padStart(2, "0");
        minutesEl.textContent = minutes.toString().padStart(2, "0");
        secondsEl.textContent = seconds.toString().padStart(2, "0");

        // Pulse animation when seconds change
        if (seconds !== prevSeconds && prevSeconds !== -1 && secondsItem) {
          secondsItem.classList.remove("seconds-pulse");
          void secondsItem.offsetWidth; // Trigger reflow
          secondsItem.classList.add("seconds-pulse");
        }
        prevSeconds = seconds;
      }

      updateTimer();
      setInterval(updateTimer, 1000);

      // –ü–ª–∞–≤–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ
      const heartsContainer = document.getElementById("floatingHearts");
      const heartChars = ["‚ù§", "‚ô°", "üíó", "üíñ"];
      const heartbeatAudio = document.getElementById("heartbeatSound");

      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.textContent =
          heartChars[Math.floor(Math.random() * heartChars.length)];

        const startLeft = Math.random() * 100;
        const duration = 10 + Math.random() * 10;
        const delay = -Math.random() * duration;

        heart.style.left = startLeft + "vw";
        heart.style.animationDuration = duration + "s";
        heart.style.animationDelay = delay + "s";

        // Make hearts clickable/tappable
        heart.addEventListener("click", function (e) {
          e.stopPropagation();
          createHeartBurst(parseFloat(heart.style.left), 30);
        });

        heart.addEventListener(
          "touchstart",
          function (e) {
            e.stopPropagation();
            createHeartBurst(parseFloat(heart.style.left), 30);
          },
          { passive: true },
        );

        heartsContainer.appendChild(heart);

        setTimeout(
          () => {
            heart.remove();
          },
          (duration + Math.abs(delay)) * 1000,
        );
      }

      // Create burst of hearts when clicking
      function createHeartBurst(xPercent, yPercent) {
        const types = ["type1", "type2", "type3"];
        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const newHeart = document.createElement("div");
            newHeart.className =
              "kiss-heart " + types[Math.floor(Math.random() * 3)];
            newHeart.textContent = ["üíï", "üíó", "üíñ", "üíò", "üíã"][
              Math.floor(Math.random() * 5)
            ];
            newHeart.style.left = xPercent + "%";
            newHeart.style.top = yPercent + "%";
            newHeart.style.position = "fixed";
            document.body.appendChild(newHeart);
            setTimeout(() => newHeart.remove(), 1500);
          }, i * 100);
        }
      }

      for (let i = 0; i < 25; i++) {
        setTimeout(createHeart, i * 350);
      }

      setInterval(createHeart, 1200);

      // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      if (heartbeatAudio) {
        heartbeatAudio.loop = true;
        heartbeatAudio.volume = 0.45;
        window.addEventListener("load", () => {
          heartbeatAudio.play().catch(() => {
            // –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∞–≤—Ç–æ–ø–ª–µ–π —Å–æ –∑–≤—É–∫–æ–º, –≤–∫–ª—é—á–∏–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ
          });
        });
      }

      // –ü–ª–∞–≤–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç
      const startScreen = document.getElementById("startScreen");
      const envelopeEl = document.getElementById("envelope");
      const mainContainer = document.querySelector(".container");

      function openValentine() {
        if (!startScreen || !mainContainer) return;

        if (startScreen.classList.contains("start-screen--opening")) return;

        // –µ—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî –ø—Ä–æ–±—É–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–≤—É–∫ –ø–æ –ø–µ—Ä–≤–æ–º—É –∫–ª–∏–∫—É
        if (heartbeatAudio && heartbeatAudio.paused) {
          heartbeatAudio.play().catch(() => {
            /* –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –µ—Å–ª–∏ –≤—Å—ë –µ—â—ë –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω */
          });
        }

        startScreen.classList.add("start-screen--opening");

        setTimeout(() => {
          startScreen.classList.add("start-screen--hide");
        }, 220);

        setTimeout(() => {
          mainContainer.classList.add("visible");
          // –∑–≤—É–∫ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –∏ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
        }, 900);
      }

      if (startScreen && envelopeEl && mainContainer) {
        envelopeEl.addEventListener("click", openValentine);
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É touch –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        envelopeEl.addEventListener(
          "touchstart",
          function (e) {
            e.preventDefault();
            openValentine();
          },
          { passive: false },
        );
      }

      // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ iOS –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
      let lastTouchEnd = 0;
      document.addEventListener(
        "touchend",
        function (event) {
          const now = Date.now();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false,
      );

      // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É —Å –≤—ã—Å–æ—Ç–æ–π viewport –Ω–∞ iOS
      function setVH() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }

      setVH();
      window.addEventListener("resize", setVH);
      window.addEventListener("orientationchange", setVH);

      // Gallery functionality
      const galleryGrid = document.getElementById("galleryGrid");

      // –°–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π - –¥–æ–±–∞–≤—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã —Å—é–¥–∞
      // –§–æ—Ä–º–∞—Ç: { src: '–∏–º—è_—Ñ–∞–π–ª–∞.jpg', alt: '–æ–ø–∏—Å–∞–Ω–∏–µ' }
      const photos = [
        { src: "photo1.jpg", alt: "" },
        { src: "photo2.jpg", alt: "" },
        { src: "photo3.jpg", alt: "" },
        { src: "photo4.jpg", alt: "" },
        { src: "photo5.jpg", alt: "" },
        { src: "photo6.jpg", alt: "" },
      ];

      // –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç—ã –≥–∞–ª–µ—Ä–µ–∏
      function initGallery() {
        if (!galleryGrid) return;

        photos.forEach((photo, index) => {
          const item = document.createElement("div");
          item.className = "gallery-item";
          item.setAttribute("role", "button");
          item.setAttribute("aria-label", photo.alt);
          item.setAttribute("tabindex", "0");

          const img = document.createElement("img");
          img.src = photo.src;
          img.alt = photo.alt;
          img.loading = "lazy";

          item.appendChild(img);

          // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ª–∞–π—Ç–±–æ–∫—Å–∞
          item.addEventListener("click", () => openLightbox(index));
          item.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              openLightbox(index);
            }
          });

          galleryGrid.appendChild(item);
        });
      }

      // Lightbox
      let lightbox = null;
      let currentPhotoIndex = 0;

      function createLightbox() {
        lightbox = document.createElement("div");
        lightbox.className = "lightbox";
        lightbox.setAttribute("role", "dialog");
        lightbox.setAttribute("aria-modal", "true");
        lightbox.setAttribute("aria-label", "–ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π");

        lightbox.innerHTML = `
          <button class="lightbox-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
          <button class="lightbox-nav lightbox-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">&#8249;</button>
          <button class="lightbox-nav lightbox-next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">&#8250;</button>
          <div class="lightbox-content">
            <img src="" alt="" id="lightboxImage" />
          </div>
        `;

        document.body.appendChild(lightbox);

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) {
            closeLightbox();
          }
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–Ω–æ–ø–∫–µ
        lightbox
          .querySelector(".lightbox-close")
          .addEventListener("click", closeLightbox);

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        lightbox
          .querySelector(".lightbox-prev")
          .addEventListener("click", (e) => {
            e.stopPropagation();
            navigateLightbox(-1);
          });

        lightbox
          .querySelector(".lightbox-next")
          .addEventListener("click", (e) => {
            e.stopPropagation();
            navigateLightbox(1);
          });

        // –ö–ª–∞–≤–∏—à–∏
        document.addEventListener("keydown", handleLightboxKeys);
      }

      function openLightbox(index) {
        if (!lightbox) createLightbox();

        currentPhotoIndex = index;
        updateLightboxImage();

        lightbox.classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeLightbox() {
        if (lightbox) {
          lightbox.classList.remove("active");
          document.body.style.overflow = "";
        }
      }

      function navigateLightbox(direction) {
        currentPhotoIndex += direction;

        if (currentPhotoIndex < 0) {
          currentPhotoIndex = photos.length - 1;
        } else if (currentPhotoIndex >= photos.length) {
          currentPhotoIndex = 0;
        }

        updateLightboxImage();
      }

      function updateLightboxImage() {
        const img = document.getElementById("lightboxImage");
        if (img && photos[currentPhotoIndex]) {
          img.src = photos[currentPhotoIndex].src;
          img.alt = photos[currentPhotoIndex].alt;
        }
      }

      function handleLightboxKeys(e) {
        if (!lightbox || !lightbox.classList.contains("active")) return;

        switch (e.key) {
          case "Escape":
            closeLightbox();
            break;
          case "ArrowLeft":
            navigateLightbox(-1);
            break;
          case "ArrowRight":
            navigateLightbox(1);
            break;
        }
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞–ª–µ—Ä–µ–∏
      initGallery();

      // Kiss button functionality
      const kissBtn = document.getElementById("kissBtn");

      if (kissBtn) {
        kissBtn.addEventListener("click", function (e) {
          // Create floating heart
          const heart = document.createElement("div");
          heart.className = "kiss-heart";
          heart.textContent = "üíã";
          heart.style.left = Math.random() * 60 + 20 + "%";
          heart.style.top = "50%";

          document.body.appendChild(heart);

          // Remove heart after animation
          setTimeout(() => {
            heart.remove();
          }, 1000);

          // Play kiss sound if available
          if (heartbeatAudio) {
            heartbeatAudio.play().catch(() => {});
          }
        });
      }
    </script>
  </body>
</html>
